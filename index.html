<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Course Modules</title>
<style>
body {
  font-family: "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif;
  background-color: #ffffff;
  margin: 40px auto;
  max-width: 1000px;
  padding: 0 20px;
  color: #1e1e1e;
  line-height: 1.6;
}

h2 {
  text-align: center;
  color: #1e1e1e;
  font-size: 1.8rem;
  margin-bottom: 30px;
  font-weight: 700;
}

.es101-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 20px;
  justify-items: center;
}

.es101-card a {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  color: #ffffff;
  font-weight: 700;
  text-decoration: none;
  border-radius: 12px;
  text-align: center;
  width: 160px;
  height: 160px;
  font-size: 1rem;
  padding: 15px 10px;
  transition: transform 0.2s ease;
}

.es101-card a:hover {
  transform: scale(1.03);
}

.es101-button-inner {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
  width: 100%;
  align-items: center;
}

/* Move the module title slightly up for equal spacing */
.es101-button-inner span:last-child {
  margin-top: 10px; /* Adjust for equal spacing above and below */
  text-align: center;
}

.es101-progress-group {
  display: flex;
  flex-direction: column;
}
</style>
</head>
<body>

<!-- Commented out the "Modules" title -->
<!-- <h2>Modules</h2> -->

<div class="es101-container">
  <div class="es101-card">
    <a href="#" style="background-color: #196719;" aria-label="Module 1: Earth Systems">
      <div class="es101-button-inner">
        <div class="es101-progress-group">
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <p class="progress-text">0 / 4 steps completed</p>
        </div>
        <span>Module 1<br>Earth Systems</span>
      </div>
    </a>
    <p><strong>Objectives:</strong> Understand Earth's layers, rock cycle, and energy systems.</p>
  </div>

  <div class="es101-card">
    <a href="#" style="background-color: #21633e;" aria-label="Module 2: Plate Tectonics">
      <div class="es101-button-inner">
        <div class="es101-progress-group">
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <p class="progress-text">0 / 4 steps completed</p>
        </div>
        <span>Module 2<br>Plate Tectonics</span>
      </div>
    </a>
    <p><strong>Objectives:</strong> Explore tectonic plate boundaries, earthquakes, and volcanoes.</p>
  </div>

  <div class="es101-card">
    <a href="#" style="background-color: #0b605f;" aria-label="Module 3: Rocks & Minerals">
      <div class="es101-button-inner">
        <div class="es101-progress-group">
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <p class="progress-text">0 / 4 steps completed</p>
        </div>
        <span>Module 3<br>Rocks & Minerals</span>
      </div>
    </a>
    <p><strong>Objectives:</strong> Identify common rocks and minerals and their formation processes.</p>
  </div>

  <div class="es101-card">
    <a href="#" style="background-color: #2f5879;" aria-label="Module 4: Atmosphere">
      <div class="es101-button-inner">
        <div class="es101-progress-group">
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <p class="progress-text">0 / 4 steps completed</p>
        </div>
        <span>Module 4<br>Atmosphere</span>
      </div>
    </a>
    <p><strong>Objectives:</strong> Examine atmospheric layers, weather systems, and climate processes.</p>
  </div>

  <div class="es101-card">
    <a href="#" style="background-color: #00458a;" aria-label="Module 5: Oceans & Climate">
      <div class="es101-button-inner">
        <div class="es101-progress-group">
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <div class="circle" tabindex="0"></div>
          <p class="progress-text">0 / 4 steps completed</p>
        </div>
        <span>Module 5<br>Oceans & Climate</span>
      </div>
    </a>
    <p><strong>Objectives:</strong> Understand ocean circulation, climate interactions, and human impacts.</p>
  </div>
</div>

<script>
// Progress circle functionality
document.querySelectorAll('.es101-card').forEach((mod, moduleId) => {
  const circles = mod.querySelectorAll('.circle');
  const progressText = mod.querySelector('.progress-text');

  circles.forEach((circle, i) => {
    const toggle = () => {
      circle.classList.toggle('filled');
      updateProgressText();
      saveProgress();
    };

    circle.addEventListener('click', toggle);

    // Keyboard accessibility: toggle with Enter or Space
    circle.addEventListener('keydown', (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        toggle();
      }
    });
  });

  function saveProgress() {
    const filled = [];
    circles.forEach((c, i) => {
      if (c.classList.contains('filled')) filled.push(i);
    });
    localStorage.setItem(`progress_${moduleId}`, JSON.stringify(filled));
  }

  function updateProgressText() {
    const count = mod.querySelectorAll('.filled').length;
    progressText.textContent = `${count} / ${circles.length} steps completed`;
  }
});
</script>
</body>
</html>
